---
layout: page
title: Job Board
bootstrap: true
---

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<div class="list-group" id="jobs">

</div>

<script>
(function () {
  var api = {
    endpoint: 'https://api.github.com/repos/TechnologyMasters/jobs/issues',
    headers: {
      Accept: 'application/vnd.github.v3+json'
    }
  }
  var jobs = null

  var jobContainer = document.getElementById('jobs')
  var jobItem = function (element) {
    date = new Date(element.created_at)
    var dateOptions = {
      year: "numeric", month: "short", day: "numeric"
    };
    return '<a class="list-group-item"><h4><span class="job-title">' + element.title + '</span><span class="badge pull-right">' + date.toLocaleDateString("en-US", dateOptions) + '</span></h4></a>'
  }

  // Get jobs json
  var request = new XMLHttpRequest()
  request.open('GET', api.endpoint)
  request.setRequestHeader('Accept', api.headers.Accept)
  request.onload = function () {
    if (request.status >= 200) {
      jobs = JSON.parse(request.responseText)
      setupJobs()
    }
  }

  request.send()

  // Create paginated list
  var setupJobs = function () {
    var jobCollection = ''

    jobs.forEach(function(element) {
      jobCollection += jobItem(element)
    });

    jobContainer.innerHTML = jobCollection
  }
})()
</script>
